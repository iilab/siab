

---

lang: fa
community: guide
type: tools
legacy: True
child: True
os: windows
weight: 3
depth: 3
title: How to Use Enigmail with GnuPG in Thunderbird

---

فهرست عناوین این بخش عبارتند از:

- [**۴.۰  مروری بر Enigmail، GnuPG و رمزنگاری کلید شخصی – عمومی**](#4.0)
- [**۴.۱  چگونه می‌توان Enigmail و  GnuPG را نصب کرد**](#4.1)
- [**۴.۲  چگونه می‌توان کلیدهای جفت بوجود آورد و Enigmail را بگونه ای پیکربندی کرد تا با اکانت های ایمیل شما کار کند**](#4.2)
- [**۴.۳  چگونه می‌توان کلید های عمومی را رد و بدل کرد**](#4.3)
- [**۴.۴  چگونه می‌توان یک جفت کلید را معتبر نموده و امضا نمود**](#4.4)
- [**۴.۵  چگونه می‌توان یک پیام را رمزنگاری و رمزگشایی نمود**](#4.5)


-------

<a name="4.0"></a>
## ۴.۰ مروری بر Enigmail، GnuPG و رمزنگاری کلید شخصی – عمومی  ##

**Enigmail** یک افزونه برای برنامه **Mozilla Thunderbird** است که با کمک آن می‌توانید از حریم شخصی ارتباطات ایمیلی خویش حفاظت کنید. **Enigmail** بطور ساده یک رابط کاربری است که به شما امکان می‌دهد تا از برنامه رمزنگاری **GnuPG** در برنامه **Thunderbird** استفاده کنید. رابط کاربری **Enigmail** به صورت *OpenPGP* در کادر ابزارهای برنامه **Thunderbird** مشاهده می شود.

**Enigmail** بر اساس سیستم [**رمزنگاری کلید عمومی**](http://en.wikipedia.org/wiki/Public-key_cryptography) کار می کند. در این روش، هر فردی می باید جفت-کلید شخصی خود را بوجود بیاورد. کلید اول با عنوان *کلید شخصی* شناخته می شود. این کلید با یک رمز عبور یا عبارت عبور تحت مراقبت قرار داشته و با هیچ شخصی به اشتراک گذاشته نمی شود. 

کلید دوم را *کلید عمومی* می نامند. این کلید را می‌توانید با هریک از طرفین مکاتبات خود به اشتراک بگذارید. وقتی که کلید عمومی مخاطب خود را دریافت کردید می‌توانید ایمیل‌های رمزنگاری شده به این شخص ارسال دارید. در اینصورت فقط فرد مورد نظر می‌تواند ایمیل‌های شما را رمزگشایی نموده و بخواند، زیرا وی تنها کسی است که به *کلید شخصی* جفت دسترسی دارد. 

به همین ترتیب اگر شما نسخه‌ای از *کلید عمومی* خود را به افراد موجود در آدرس نامه ایمیل خود ارسال داشته و *کلید شخصی* را مخفی نگهدارید، فقط شما می‌توانید پیامهای رمزنگاری شده ارسالی از جانب آن افراد را مطالعه کنید. 

**Enigmail** همچنین به شما امکان می‌دهد تا *امضاهای الکترونیک* را به پیامهای خود اضافه کنید. دریافت‌کننده پیام شما که دارای نسخه معتبری از *کلید عمومی* شما باشد، می‌تواند از اعتبار ایمیل‌هایی که از جانب شما به مقصد وی ارسال می‌شود اطمینان حاصل کرده و مطمئن شود که محتویات آن‌ها در طی مسیر دستکاری نشده است. به همین ترتیب، اگر شما دارای *کلید عمومی* مخاطب خود باشید می‌توانید از سندیت امضاهای الکترونیک پیامهای او اطمینان حاصل کنید.



<a name="4.1"></a>
## 4.1 چگونه می‌توان Enigmail و  GnuPG را نصب کرد ##

لطفاً جهت آشنا شدن با دستورالعمل های مربوط به چگونگی دانلود **Enigmail** و  **GnuPG** به [**بخش دانلود**](thunderbird) مراجعه کنید.


### ۴.۱.۱  چگونگی نصب  GnuPG  ###

نصب **GnuPG** کاملاً ساده و شبیه مراحل نصب سایر نرم افزارهایی است که تابحال نصب کرده اید. 

برای شروع به نصب **GnuPG** می بایستی مراحل زیر را انجام دهید:

**مرحله ۱**. بر روی ![](/sbox/screen/thunderbird-en/40.png) **دوبار کلیک** کنید تا مراحل نصب آغاز شود. در ادامه ممکن است پنجره *Open File - Security Warning* ظاهر شود، در اینصورت بر روی ![](/sbox/screen/thunderbird-en/02.png) **کلیک** کنید تا پنجره زیر فعال شود:

![](/sbox/screen/thunderbird-en/41.png)

*تصویر ۱: راهنماگر تنظیم  GNU Privacy Guard*


**مرحله ۲**. بر روی ![](/sbox/screen/thunderbird-en/04.png)**کلیک** کنید تا پنجره *GNU Privacy Guard Setup - License Agreement* فعال شود. پس از آنکه آن را بطور کامل مطالعه نمودید بر روی ![](/sbox/screen/thunderbird-en/04.png) **کلیک** کنید تا پنجره *GNU Privacy Guard Setup - Choose Components* فعال شود.

**مرحله ۳**. بر روی ![](/sbox/screen/thunderbird-en/04.png) **کلیک** کنید تا تنظیمات پیش‌فرض مورد قبول قرار گرفته پنجره *GNU Privacy Guard Setup - Install Options - GnuPG Language Selection* فعال شود.

**مرحله ۴**. بر روی ![](/sbox/screen/thunderbird-en/04.png) **کلیک** کنید تا *en-English* به عنوان زبان پیش‌فرض انتخاب شود، و پنجره *Choose Install Location* فعال گردد. 

**مرحله ۵**. بر روی ![](/sbox/screen/thunderbird-en/06.png) **کلیک** کنید تا مسیر پیش فرض برای نصب پذیرفته شده و صفحه *Choose Start Menu Folder* فعال شود.

**مرحله ۶**. بر روی ![](/sbox/screen/thunderbird-en/06.png) **کلیک** کنید تا باز شدن و نصب بسته های مختلف **GnuPG** آغاز شود. پس از آنکه این فرآیند به اتمام رسید، صفحه *Installation Complete* ظاهر خواهد شد.

**مرحله ۷**. بر روی  ![](/sbox/screen/thunderbird-en/04.png) و سپس بر روی ![](/sbox/screen/thunderbird-en/08.png) **کلیک** کنید تا نصب برنامه **GnuPG** به اتمام برسد. 


### ۴.۱.۲  چگونه می‌توان افزونه **Enigmail** را نصب کرد ###

پس از آنکه نصب نرم‌افزار **GnuPG** را با موفقیت انجام شد، آنگاه می‌توان افزونه **Enigmail** را نصب کرد. 

برای شروع به نصب **Enigmail** می بایستی مراحل زیر را انجام دهید:

**مرحله ۱**. برنامه **Thunderbird** را **باز** کرده سپس  **Tools > Add-ons** را **انتخاب** کنید تا پنجره  *Add-ons* باز شود؛ پنجره *Add-ons* باز می‌شود در حالیکه کادر *Get Add-ons* در حالت فعال قرار دارد.


**مرحله ۲**. بر روی ![](/sbox/screen/thunderbird-en/44.png) **کلیک** کنید تا پنجره زیر فعال شود:

![](/sbox/screen/thunderbird-en/45.png)

*تصویر ۳: پنجره Add-ons که کادر Extensions در آن در حالت فعال نشان داده می شود*


**مرحله ۳**. بر روی ![](/sbox/screen/thunderbird-en/46.png) **کلیک** کنید تا پنجره زیر ظاهر شود:

![](/sbox/screen/thunderbird-en/45.png)

*تصویر ۴: پسوندی را برای نصب انتخاب کنید*


**مرحله ۴**. به شاخه ای که افزونه **Enigmail** را در آن ذخیره کرده‌اید مراجعه کرده بر روی ![](/sbox/screen/thunderbird-en/48.png) **کلیک** کنید تا پنجره زیر فعال شود:

![](/sbox/screen/thunderbird-en/49.png)

*تصویر ۵: پنجره نصب نرم افزار*


**مرحله ۷**. بر روی  ![](/sbox/screen/thunderbird-en/50.png) **کلیک** کنید تا پنجره ای مشابه با *تصویر ۵* ظاهر شود، و سپس بر روی ![](/sbox/screen/thunderbird-en/51.png) **کلیک** کنید تا نصب افزونه **Enigmail** به پایان برسد. 

برای اطمینان از آنکه نصب افزونه **Enigmail** با موفقیت انجام شده است به رابط کاربری اصلی **Thunderbird** مراجعه کرده و ببینید که‌ آیا در نوار ابزار آن گزینه ای به نام *OpenPGP* ظاهر شده است. 

![](/sbox/screen/thunderbird-en/52.png)

*تصویر ۶: نوار ابزار Thunderbird که گزینه OpenPGP در آن شاخص شده است*


### ۴.۱.۳ چگونه می‌توان مطمئن شد که Enigmail و GnuPG درست کار می کنند ###

پیش از آنکه از **Enigmail** و **GnuPG** برای معتبر کردن و رمزنگاری ایمیل‌های خود استفاده کنید باید اول اطمینان حاصل نمایید که ایندو با یکدیگر در ارتباط قرار دارند.

**مرحله ۱**.  **OpenPGP > Preferences** را **انتخاب** کنید تا صفحه ![](/sbox/screen/thunderbird-en/53.png) باز شود: 

![](/sbox/screen/thunderbird-en/53.png)

*تصویر ۷: صفحه OpenPGP Preferences*

اگر **GnuPG** با موفقیت نصب شده باشد، آنگاه  ![](/sbox/screen/thunderbird-en/54.png) در بخش *Files and Directories* دیده می شود؛ در غیراینصورت، ممکن است پنجره هشداردهنده ای مشابه زیر ظاهر شود:

![](/sbox/screen/thunderbird-en/55.png)

*تصویر ۸: پیام هشدار دهنده OpenPGP*

**نکته**: دریافت این پیام ممکن است حاکی از آن باشد که فایل مربوطه را در مکان نامناسبی ذخیره کرده اید. کادر مربع شکل گزینه *Override with* را**علامت بزنید** تا دکمه  *Browse...* فعال شود، و سپس بر روی ![](/sbox/screen/thunderbird-en/69.png) **کلیک** کنید تا *Locate GnuPG program* فعال شده و بصورت دستی به جستجوی فایل *gpg.exe* در رایانه خود بپردازید.

**مرحله ۲**. بر روی ![](/sbox/screen/thunderbird-en/56.png) **کلیک** کنید تا پانل کنترلی **Thunderbird** باز گردید. 


<a name="4.2"></a>
## 4.2 چگونه می‌توان کلیدهای جفت بوجود آورده و Enigmail را بگونه ای پیکربندی کرد تا با اکانت های ایمیل شما کار کند ##

پس از آنکه اطمینان حاصل کردید که **Enigmail** و **GnuPG** درست کار می کنند، می‌توانید اکانت/های ایمیل خود را برای استفاده از **Enigmail** جهت ایجاد کلیدهای جفتی خصوصی/عمومی پیکربندی کنید.


### 4.2.1 چگونه می‌توان راهنماگر OpenPGP برای ایجاد یک جفت کلید استفاده کرد ###

**Enigmail**  از دو روش برای ایجاد جفت کلید خصوصی/عمومی استفاده می کند؛ یکی از این روشها استفاده از *OpenPGP Setup Wizard* و روش دیگر استفاده از صفحه *Key Management*  می باشد.

جهت ایجاد یک جفت کلید برای اولین بار با استفاده از *OpenPGP Setup Wizard* اقدامات زیر را می بایستی انجام دهید:


**مرحله ۱**. **OpenPGP > Setup Wizard** را انتخاب کنید تا صفحه *OpenPGP Setup Wizard* باز شود:

![](/sbox/screen/thunderbird-en/58.png)

*تصویر ۹: پنجره راهنماگر تنطیم OpenPGP*


**مرحله ۲**. بر روی ![](/sbox/screen/thunderbird-en/04.png) **کلیک** کنید تا پنجره زیر فعال شود:

![](/sbox/screen/thunderbird-en/59.png)

*تصویر ۱۰: صفحه انتخاب هویت*


**مرحله ۳**. بر روی  ![](/sbox/screen/thunderbird-en/04.png) **کلیک** کنید تا پنجره زیر فعال شود: 

![](/sbox/screen/thunderbird-en/60.png)

*تصویر ۱۱: صفحه امضای الکترونیک برای ایمیلهای ارسالی*


**مرحله ۴**. بر روی  ![](/sbox/screen/thunderbird-en/04.png) **کلیک** کنید تا صفحه زیر فعال شود:

![](/sbox/screen/thunderbird-en/61.png)

*تصویر ۱۲: صفحه رمزنگاری ایمیل‌های ارسالی*


**مرحله ۵**. بر روی  ![](/sbox/screen/thunderbird-en/04.png) **کلیک** کنید تا صفحه زیر فعال شود:

![](/sbox/screen/thunderbird-en/62.png)

*تصویر ۱۳: صفحه ترجیحات – تغییر تنظیمات ایمیل بگونه ای که OpenPGP با کارآیی بیشتری عمل کند*


**مرحله ۶**. بر روی  ![](/sbox/screen/thunderbird-en/63.png) **کلیک** کنید تا صفحه زیر فعال شود:

![](/sbox/screen/thunderbird-en/64.png)

تصویر ۱۴: صفحه ترجیحات 

**نکته**: در بخش *۳.۳ چگونه می‌توان امکان HTML را در Thunderbird غیرفعال کرد* بطور خلاصه شرح دادیم که چگونه پیامهایی که دارای قالب HTML هستند ممکن است شما را در معرض انواع خطرات ویروسی قرار دهند. گزینه *View message body as plain text* و گزینه های*Do not compose HTML messages* به این موضوع می پردازند.  

**مرحله ۷**. بر روی ![](/sbox/screen/thunderbird-en/56.png) **کلیک** کنید تا راهنماگر *OpenPGP Setup Wizard* بازگردانده شده، و بر روی ![](/sbox/screen/thunderbird-en/04.png) **کلیک** کنید تا پنجره  *Create Key - Create A Key To Sign and Encrypt Email* فعال شود. 

**نکته**. در بار اولی که می‌خواهید یک کلید برای اکانت ایمیل خود ایجاد کنید، هیچیک از اکانتهای ایمیل تان در فهرست منوی کرکره ای ظاهر نخواهند شد. 


**مرحله ۸**. یک عبارت عبور که حداقل دارای ۸ کاراکتر الفبایی عددی باشد را در هر دو کادر مربوط به رمزعبور **وارد** کنید.

![](/sbox/screen/thunderbird-en/65.png)

تصویر ۱۵. پنجره ایجاد کلید – ایجاد کلید برای امضاء کردن و رمزنگاری ایمیل

**مرحله ۹**. بر روی  ![](/sbox/screen/thunderbird-en/04.png) **کلیک** کنید تا تنظیمات مربوطه به تأیید رسیده و سپس بر روی ![](/sbox/screen/thunderbird-en/66.png) **کلیک** کنید تا به صفحه *ایجاد کلید* باز گردید؛ نام اولین اکانت ایمیل شما در صفحه‌ای مشابه زیر ظاهر خواهد شد:

![](/sbox/screen/thunderbird-en/67.png)

تصویر ۱۶. User ID که به تازگی برای اکانت مورد نظر ایجاد شده اند.


**مرحله ۴**. بر روی  ![](/sbox/screen/thunderbird-en/04.png) **کلیک** کنید تا پنجره *Summary* که اصولاً نمایانگر تنظیمات مورد استفاده در هنگام ایجاد جفت-کلیدها می باشد، فعال شود.

**توجه**: هرگونه هر جفت-کلیدی که با استفاده از *راهنماگر تنظیم OpenPGP* ایجاد می‌شود مبتنی بر ساختار ۲۰۴۸ بیتی است، و طول عمری معادل با ۵ سال دارد.  هر دوی این ویژگی‌ها بگونه ای هستند که در صورت از ایجاد جفت-کلید با استفاده از روش فوق، امکان تغییر در آن‌ها غیرممکن می شود. 



### ۴.۲.۲ چگونه می‌توان جفت-کلید برای اکانت های ایمیل ایجاد کرد و مجوزهای مربوطه را لغو اعتبار نمود###

بطور استاندارد برای هر اکانت ایمیل یک جفت-کلید جداگانه ایجاد می شود. اگر می‌خواهید برای اکانت های ایمیل دیگر خود جفت-کلیدهای اضافی ایجاد کنید، باید مراحل زیر را انجام دهید. ایجاد یک جفت-کلید همچنین مستلزم ایجاد  *مجوز لغو اعتبار* مرتبط با آن جفت-کلید می باشد. در مواقعی که کلید خصوصی شما در معرض خطر قرار دارد یا دسترسی به آن را از دست داده‌اید می‌توانید مجوز لغو مربوط به آن را به افرادی که با آن‌ها در تماس هستید ارسال دارید تا کلید خصوصی یادشده غیرفعال شود.  


**مرحله ۱**. **OpenPGP > Key Management** را **انتخاب** کنید تا صفحه زیر فعال شود:

![](/sbox/screen/thunderbird-en/70.png)

*تصویر ۱۷: منوی Generate در صفحه OpenPGP Key Management که مورد New Key Pair در آن انتخاب شده است*


**توجه**: گزینه*Display All Keys by Default* را **علامت** بزنید تا جفت-کلیدی که با استفاده از  *OpenPGP Setup Wizard* برای اولین اکانت ایمیل شما ایجاد شده است، همانطور که در *تصویر ۱۷* در بالا دیده می شود، به نمایش درآید.


**مرحله ۲**. همانطور که در *تصویر ۱۷* در بالا دیده می‌شود گزینه **Generate > New Key Pair** را از منوی *Key Management* **انتخاب** کنید تا صفحه زیر فعال شود:

![](/sbox/screen/thunderbird-en/71.png)

*تصویر ۱۸: صفحه Generate OpenPGP Key*


**مرحله ۳**. یک اکانت ایمیل از فهرست کرکره ای *Account / User ID* **انتخاب** کرده و گزینه *Use generated key for the selected identity* را **علامت** بزنید.سپس یک عبارت عبور برای حراست از کلید خصوصی خود ایجاد کنید. 


**توجه**: همانطور که از اسم آن پیداست، یک عبارت عبور در‌واقع یک رمز عبور طولانی است. **Enigmail** بطور ساده از شما می‌خواهد رمزعبوری را وارد کنید که از رمزعبورهای عادی طولانی‌تر و مطمئن تر باشد.


**نکته مهم**: همواره جفت-کلیدهای خود را به عبارت عبور مجهز کنید، و هرگز گزینه "no passphrase" را در حالت فعال قرار ندهید.

![](/sbox/screen/thunderbird-en/72.png)

*تصویر ۱۹:  صفحه مربوط به ایجاد کلید با استفاده از OpenPGP  که برگه تاریخ انقضای کلید در آن مشاهده می شود.*


**توجه**:‌مدت زمان اعتبار یک جفت-کلید کاملاً بستگی به میزان امنیت و حفاظت از حریم شخصی که شما به آن نیاز دارید بستگی دارد؛ هرچه تعداد دفعاتی که شما جفت-کلیدهای خود را تغییر می‌دهید بیشتر باشد، میزان خطر لو رفتن جفت کلیدهای جدید کمتر می شود. اما، هربار که یک جفت-کلید را تغییر می‌دهید می باید آن را به مخاطبین خود نیز ارسال دارید تا اعتبار آن را برای هریک از‌ آن افراد تأیید شود.


**مرحله ۵**. یک شماره مناسب را در کادر مربوطه **تایپ** کرده و سپس واحدی از زمان (روز، ماه، یا سال) را برای مدت اعتبار هریک از جفت-کلیدها در نظر بگیرید. 


**مرحله ۶**. بر روی ![](/sbox/screen/thunderbird-en/73.png) **کلیک** کنید تا صفحه زیر فعال شود:

![](/sbox/screen/thunderbird-en/74.png)

*تصویر ۲۰: پنجره OpenPGP Confirm که برای ایجاد کلید بکار می رود*


**مرحله ۷**. بر روی ![](/sbox/screen/thunderbird-en/73.png) **کلیک** کنید تا صفحه زیر به نمایش درآید:

![](/sbox/screen/thunderbird-en/75.png)

*تصویر ۲۱: پنجره تأیید OpenPGP*


**مرحله ۸**. بر روی  ![](/sbox/screen/thunderbird-en/76.png) **کلیک** کنید تا پنجره *Create & Save Revocation Certificate* فعال شود.


**توجه**: اگر متوجه شدید که فردی غیرمجاز یا با اهداف خرابکارانه به کلید عمومی شما دسترسی پیدا نموده یا امکان دسترسی به آن کلید از شما سلب شده است، می‌توانید یک مجوز لغو اعتبار به افراد طرف اعتبار خود ارسال داشته و به آن‌ها اطلاع دهید که نباید از کلید تطبیقی برای مطابقت دادن با کلید عمومی شما استفاده کنند. توجه داشته باشید که در صورت به سرقت رفتن یا ظبط شدن رایانه شما، ممکن است لازم باشد که این کار را انجام دهید. قویا به شما توصیه می‌شود که از مجوز لغو نسخه پشتیبان تهیه کرده و در مراقبت از آن دقت لازم را به عمل آورید.

![](/sbox/screen/thunderbird-en/77.png)

*تصویر ۲۲. صفحه تأیید هشدار OpenPGP* 

**مرحله ۹**. بر روی ![](/sbox/screen/thunderbird-en/78.png) **کلیک** کنید تا صفحه زیر فعال شود؛ سپس عبارت عبور مربوط به اکانت ایمیل را **تایپ** کنید:

![](/sbox/screen/thunderbird-en/79.png) 

*تصویر ۲۳: پنجره تایپ عبارت عبور OpenPGP که بار وارد کردن آن به مرحله بعدی وارد خواهید شد*


**مرحله ۱۰**. بر روی ![](/sbox/screen/thunderbird-en/56.png) **کلیک** کنید تا ایجاد یک جفت-کلید و مجوز لغو به اتمام رسیده، و به صفحه‌ای مشابه با تصویر زیر نمایش داده شود:

![](/sbox/screen/thunderbird-en/80.png) 

*تصویر ۲۴: پنجره مدیریت کلید OpenPGP که جفت-کلید در آن دیده می شود*

**توجه**: چنانچه در محیطی امن قرار دارید، گزینه  *Display All Keys by Default* **علامت بزنید تا تمامی جفت-کلیدها و اکانت های مربوط به آنها به نمایش درآیند.

پس از  ایجاد موفقیت آمیز جفت-کلید و مجوز لغو مرتبط با آن، اکنون می‌توانید کلیدهای عمومی خود را با مخاطب مورد اعتمادتان مبادله کنید.



### ۴.۲.۳  چگونه می‌توان Enigmail را برای استفاده در اکانت ایمیل، تنظیم کرد  ###

برای فعال کردن **Enigmail** جهت استفاده در یک اکانت ایمیل خاص، مراحل زیر می بایستی انجام پذیرد:

**مرحله ۱**. **Tools > Account Settings** را **انتخاب** کنید.


**مرحله ۲**. گزینه  *OpenPGP Security* را در بخش جانبی صفحه مطابق آنچه که در تصویر زیر دیده می‌شود **انتخاب** کنید:

![](/sbox/screen/thunderbird-en/57.png)

*تصویر ۲۵: صفحه تنظیمات اکانت – امنیت OpenPGP*


**مرحله ۳**. گزینه *Enable OpenPGP support* را **علامت زده** و سپس گزینه *Use email address of this identity to identify OpenPGP key* را مطابق آنچه که در *تصویر ۱۱* دیده می شود **انتخاب** کنید. 


**مرحله ۴**. بر روی ![](/sbox/screen/thunderbird-en/56.png) **کلیک** کنید تا به صفحه کنترلی **Thunderbird** بازگردانده شوید.


<a name="4.3"></a>
## ۴.۳ چگونه می‌توان کلید های عمومی را رد و بدل کرد ##

قبل از آنکه شروع به ارسال پیامهای ایمیل رمزنگاری شده به یکدیگر نمایید شما و افراد طرف ارتباط شما باید کلیدهای عمومی خود را با یکدیگر مبادله نمایند. شما همچنین می باید اعتبار هریک از این کلیدها را با اطمینان حاصل کردن از اینکه کلیدهای مزبور از طرف فرستنده مورد نظر ارسال شده اند، مشخص نمایید.


### ۴.۳.۱ چگونه می‌توان با استفاده از Enigmail یک کلید عمومی را ارسال کرد ###

برای آنکه شما و مخاطبتان بتوانید با استفاده از **Enigmail/OpenPGP** یک کلید عمومی ارسال کنید می بایستی اقدام‌های زیر را انجام دهید:


**مرحله ۱**. **Thunderbird** را **باز** کرده و برای نگارش پیام جدید بر روی ![](/sbox/screen/thunderbird-en/81.png) **کلیک** کنید.


**مرحله ۲**. یا بر روی  ![](/sbox/screen/thunderbird-en/103.png) **کلیک** کرده یا **File > Attach > File(s)** را **انتخاب** کنید تا پنجره *Attach File(s)* فعال شود. سپس کلید عمومی خود را یافته و پس از انتخاب آن بر روی ![](/sbox/screen/thunderbird-en/48.png) **کلیک** کنید تا کلید عمومی مورد نظر ضمیمه شود، و صفحه ای مشابه زیر ظاهر گردد:

![](/sbox/screen/thunderbird-en/82.png) 

*تصویر ۲۶: کادر نگارش پیام که در بخش ضمیمه های آن، کلیک عمومی ضمیمه شده مشاهده می شود*

**توجه**: شما همچنین می توانید کلید عمومی خود را از طریق انتخاب **OpenPGP > Attach My Public Key** ضمیمه کنید. اما، در این روش کادر  **Attachments:** مشاهده نخواهد شد؛ و کلید عمومی مربوطه در کادر در پایین بخش مربوط به پیام فرد مخاطب، مطابق آنچه که در تصویر زیر مشاهده می‌کنید دیده می شود. 

![](/sbox/screen/thunderbird-en/102.png) 

*تصویر ۲۷: نمونه‌ای از یک کلید عمومی ضمیمه شده با استفاده از گزینه Attach my Public Key در منوی OpenPGP*


**مرحله ۳**. بر روی Send **کلیک** کنید تا ایمیل خود را همراه با کلید عمومی ضمیمه شده به آن ارسال کنید:

![](/sbox/screen/thunderbird-en/104.png)

*تصویر ۲۸: صفحه  OpenPGP برای تنظیم مود رمزنگاری پیش‌فرض و امضا کردن*


**مرحله ۴**. بر روی گزینه *Encrypt/sign message as a whole* **کلیک** کرده و سپس بر روی ![](/sbox/screen/thunderbird-en/56.png) **کلیک** کنید تا صفحه‌ای مشابه با *تصویر ۲۳* فعال شود.


**مرحله ۵**. عبارت عبور خود را **وارد** کرده و سپس بر روی ![](/sbox/screen/thunderbird-en/56.png) **کلیک** کنید تا صفحه زیر فعال شود:

![](/sbox/screen/thunderbird-en/105.png)

تصویر ۲۹. صفحه Do you want to encrypt the message before saving


**مرحله ۶**. بر روی ![](/sbox/screen/thunderbird-en/106.png) **کلیک** کنید تا پیام خود را رمزنگاری، امضاء و ارسال دارید.



### ۴.۳.۲ چگونه می‌توان با استفاده از Enigmail  یک کلید عمومی را وارد کرد ###

برای وارد کردن یک کلید عمومی، شما و مخاطب شما هر دو می بایستی اقدام‌های مشابهی انجام دهید. 

**مرحله ۱**. ایمیلی را که حاوی کلید عمومی مخاطب شماست را **انتخاب** و **باز** کنید.

اگر کلید عمومی مخاطب شما در داخل ایمیل جاسازی شده است، دکمه *Decrypt* (رمزگشایی) به حالت فعال درخواهد آمد، و سرصفحه زیر در کادر پیام شما ظاهر می شود:

![](/sbox/screen/thunderbird-en/84.png) 

*تصویر ۳۰: پیام Decrypt button to import public key block in*

**مرحله ۲**. بر روی ![](/sbox/screen/thunderbird-en/85.png) **کلیک** کنید تا اسکن شدن محتوای پیام دریافتی از بابت داده‌های رمزنگاری شده، آغاز شود. پس از آنکه ابزار *Enigmail/OpenPGP* پیامی را که حاوی کلید عمومی است تشخیص دهد، از شما می‌خواهد تا کلید مزبور را بصورت زیر وارد کنید:

![](/sbox/screen/thunderbird-en/86.png)

تصویر ۳۱: صفحه تأیید اینکه آیا کلید عمومی جاسازی شده در ایمیل باید وارد شود؟



**مرحله ۳**. بر روی ![](/sbox/screen/thunderbird-en/87.png) **کلیک** کنید تا کلید عمومی مخاطب شما وارد شود.

چنانچه کلید عمومی را با موفقیت وارد کرده باشید صفحه‌ای مشابه زیر به نمایش درخواهد آمد:  

![](/sbox/screen/thunderbird-en/108.png)

*تصویر ۳۲: صفحه هشداردهنده OpenPGP که کلید عمومی مخاطب شما در آن مشاهده می شود*


برای تأیید دریافت کلید عمومی مخاطب خود اقدام‌های زیر را انجام دهید:

**مرحله ۱**.**OpenPGP > Key Management** را **انتخاب** کنید تا صفحه *OpenPGP Key Management* مشابه تصویر زیر به نمایش درآید:

![](/sbox/screen/thunderbird-en/107.png)

*تصویر ۳۳: پنجره OpenPGP - Key Management که کلید عمومی را که به تازگی وارد شده است در آن دیده می شود*



<a name="4.4"></a>
## ۴.۴ چگونه می‌توان یک جفت کلید را معتبر نموده و امضا نمود ##

در نهایت، باید از اعتبار کلید عمومی دریافت شده از جانب مخاطب خود اطمینان حاصل کرده و آن را تأیید کنید. این قدم بسیار مهمی است که هم شما و مخاطبین شما باید برای هر کلید عمومی دریافتی انجام دهند.


### ۴.۴.۱ چگونه می‌توان اعتبار یک جفت کلید را مشخص کرد ###

**مرحله ۱**. با مخاطب خود ار طرق دیگری به جز ایمیل **تماس بگیرید**. برای این منظور می‌توانید از تلفن، پیامک، **VoIP** یا هر روش دیگری استفاده کنید اما باید قطعاً مطمئن شوید که با فرد مورد نظر خود ارتباط برقرار کرده اید. در نتیجه، در صورت امکان مکالمات تلفنی یا ملاقات های رودررو به شرط آنکه بتوان بطور مطمئن ترتیبات آن مهیا کرد، بهترین راه است.

**مرحله ۲**. شما و مخاطب تان باید «اثر انگشت» کلیدهای عمومی را که مبادله کرده‌اید تأیید کنید. اثر انگشت، مجموعه منحصر بفردی از اعداد  و حروفی است که مشخص کننده هر کلید می باشند. شما می‌توانید از صفحه **OpenPGP** *Key Management** برای مشاهده اثر انگشت جفت-کلیدهایی که ایجاد کرده‌ و کلیدهای عمومی که وارد کرده‌اید استفاده کنید.

برای مشاهده اثر انگشت یک جفت کلید خاص، می بایستی مراحل زیر را طی کنید:

**مرحله ۱**. **OpenPGP > Key Management** را **انتخاب** کرده و بر روی یک کلید معین **راست کلیک** کنید تا منوی پاپ آپ ظاهر شود:

![](/sbox/screen/thunderbird-en/90.png) 

*تصویر ۳۴: منوی OpenPGP Key Management که گزینه Key Properties  در آن انتخاب شده است* 


**مرحله ۲**. گزینه … را **انتخاب** کنید تا صفحه زیر فعال شود:

![](/sbox/screen/thunderbird-en/91.png)

*تصویر ۳۵: صفحه ویژگی‌های کلی*

طرف ارتباط شما نیز می بایستی این مراحل را انجام دهد. هر دوی شما می باید اطمینان حاصل کنید که هر یک از کلیدهایی که با یکدیگر مبادله کرده‌اید با کلید اصلی ارسالی از جانب فرستنده مطابقت داشته باشد. اگر چنین نبود، کلیدهای عمومی را مجدداً مبادله نمود و مراحل تأیید اعتبار را دوبار انجام دهید.


**توجه**: اثر انگشت، موضوعی مخفی و اسرارگونه نیست. می‌توانید آن را ذخیره کرده و در موقعی که امکان آن برای شما فراهم است مراحل تأیید اعتبار را انجام دهید.



### ۴.۴.۲ چگونه می‌توان یک کلید عمومی معتبر را امضا کرد ###

پس از آنکه مشخص شد که کلید ارسالی از جانب طرف ارتباط شما کاملاً با کلیدی که در اختیار شماست مطابقت دارد، جهت تأیید اعتبار می باید آن را امضاء کنید.

جهت امضاء کردن یک کلید عمومی که اعتبار آن به تایید رسیده است، مراحل زیر را انجام دهید:

**مرحله ۱**. بر روی  ![](/sbox/screen/thunderbird-en/56.png) **کلیک** کنید تا به صفحه *Key Management* باز گردید. 


**مرحله ۲**. بر روی کلید عمومی طرف ارتباطتان **راست کلیک** کرده و گزینه *Sign Key* را از منو **انتخاب** کنید تا صفحه زیر ظاهر شود:

![](/sbox/screen/thunderbird-en/92.png)

*تصویر ۳۶: صفحه OpenPGP - Sign Key*


**مرحله ۳**. گزینه *I have done very careful checking* را **علامت زده** و سپس بر روی ![](/sbox/screen/thunderbird-en/56.png) **کلیک** کنید تا عمل امضاء کردن کلید عمومی ارسالی از جانب مخاطب شما به پایان رسیده، فرآیند معتبر سازی تکمیل گردیده، و به پنجره … بازگردانیده شوید:

![](/sbox/screen/thunderbird-en/93.png)

*تصویر ۳۷: پنجره OpenPGP Key Management که کلیدهای معتبر شده در آن دیده می شوند*


#### ۴.۴.۳ چگونه می تونید جفت-کلیدهای خود را معتبر کنید ####

پنجره برای ایجاد، معتبرسازی، و امضاء کردن جفت-کلیدهای مختلف بکار می رود. اما شما همچنین می‌توانید عملیات دیگر مربوط به مدیریت کلید که از جمله آن‌ها می‌توان به موارد زیر اشاره کرد را نیز انجام دهید:

- **Change Passphrase** (تغییر عبارت عبور): این گزینه شما را قادر می‌سازد تا عبارت عبوری را که برای محافظت از جفت کلید خود ایجاد کرده‌اید تغییر دهید.

- **Manage User IDs** (مدیریت نام کاربری): این گزینه به شما امکان می‌دهد تا بیش از یک آدرس ایمیل را به یک جفت کلید مرتبط کنید.

- **Generate & Save Revocation Certificate** (ایجاد و ذخیره مجوز لغو اعتبار): در صورتی که مجوز لغو اعتبار را گم‌ کرده باشید یا مکان ذخیره شدن آن را فراموش کرده باشید، این گزینه به شما امکان می‌دهد تا یک مجوز جدید درست کنید.


<a name="4.5"></a>
## ۴.۵  چگونه می‌توان پیام‌های ایمیل را رمزنگاری و رمزگشایی نمود ##

**نکته مهم**: سرصفحه هر پیام ایمیل – یعنی کادرهایی که نمایانگر *موضوع* و گیرندگان پیام می‌باشد (شامل اطلاعاتی از قبیل کادرهای *To*، *CC*، و *BCC* ) - را نمی‌توان رمزنگاری کرد و آن‌ها و به همانصورت دریافت و ارسال می شوند. برای کسب اطمینان از امنیت و حفظ حریم شخصی ایمیل‌هایی که مبادله می کنید، موضوع یا عنوان پیام ایمیل شما باید بگونه ای انختاب شود که محتوای اطلاعات محرمانه شما را افشا نکند. بعلاوه، قویاً توصیه می‌شود که در هنگام ارسال ایمیل‌ها به گروهی از افراد، تمامی آدرس‌ها را در کادر *BCC* قرار دهید. 

در صورتی که پیامهای ایمیل دارای ضمیمه باشند توصیه می‌شود که از گزینه **PGP/MIME** استفاده شود، چراکه بدینترتیب عملیات رمزنگاری فایلهای ضمیمه شده به ایمیل را نیز پوشش می دهد. 


### ۴.۵.۱ چگونه می توان یک پیام را رمزنگاری نمود ###

هنگامی که هم شما و هم طرف ارتباطی شما توانستید که با موفقیت اعمال وارد کردن، معتبر سازی، و امضاء کردن کلیدهای عمومی یکدیگر را انجام دهید آنگاه می‌توانید به ارسال پیامهای ایمیل رمزنگاری شده و دریافت پیامهای رمزگشایی شده بپردازید.

برای رمزنگاری کردن پیامهای ایمیلی که به مخاطب خود ارسال می‌دارید، اقدام‌های زیر را انجام دهید: 

**مرحله ۱**. اکانت ایمیل خود را باز کرده و جهت نوشتن یک ایمیل جدید بر روی ![](/sbox/screen/thunderbird-en/81.png) **کلیک** کنید.


**مرحله ۲**. بر روی ![](/sbox/screen/thunderbird-en/94.png) **کلیک** کنید تا صفحه زیر فعال شود:

![](/sbox/screen/thunderbird-en/95.png)

*تصویر ۳۸. پنجره پاپ آپ رمزنگاری OpenPGP* 


**توجه**: اگر گزینه *Encrypt/sign message as a whole* علامت زده و آن را با استفاده از **PGP**/**MIME** همانطور که در *تصویر ۲۸* مشاهده می‌کنید ارسال دارید، آنگاه پنجره ای مشابه با *تصویر ۳۵* ظاهر می شود.


**مرحله ۳**. هر دو گزینه *Sign Message* و *Encrypt Message* را همانطور که در *تصویر ۳۲* ملاحظه می‌کنید **علامت زده** و بر روی ![](/sbox/screen/thunderbird-en/56.png) **کلیک** کنید تا امضاء شدن و رمزنگاری محتوی ایمیل شما تکمیل شود. 


**توجه**: برای کسب اطمینان از اینکه پیام شما رمزنگاری و امضاء شده است، دو نمایه در قسمت پایینی و سمت راست کادر پیام به شکل زیر ظاهر می شوند:

![](/sbox/screen/thunderbird-en/97.png)

تصویر ۳۹: نمایه های تأیید امضاء و رمزنگاری شدن پیام


**مرحله ۴**: بر روی ![](/sbox/screen/thunderbird-en/101.png) **کلیک** کنید تا پیام شما ارسال شود. سپس از شما خواسته خواهد شد تا رمزعبور مورد نیاز برای استفاده از کلید خصوصی جهت امضاء کردن پیام را وارد کنید.



### ۴.۵.۲ چگونه می‌توان یک پیام را رمزگشایی نمود ###

زمانیکه یک پیام را دریافت کرده و یک پیام رمزنگاری شده را باز می کنید، **Enigmail/OpenPGP** بطور خودکار پیام رمزنگاری شده را که دریافت و باز می‌کنید، رمزگشایی می کند. بدینترتیب پنجره زیر فعال می شود:

![](/sbox/screen/thunderbird-en/79.png)

*تصویر ۴۰: پنجره  OpenPGP Prompt که می بایستی عبارت عبور OpenPGP یا SmartCard PIN را در کادرهای آن وارد نمایید*

**مرحله ۱**. عبارت عبور را همانطور که در *تصویر ۳۷* در بالا مشاهده می‌کنید **وارد** نمایید. 

پس از آنکه عبارت عبور کلید خصوصی خود را وارد نمودید، پیام مربوطه رمزنگاری شده و بصورت زیر مشاهده می شود:

![](/sbox/screen/thunderbird-en/109.png)

*تصویر ۴۱: پیامی که اخیراً رمزگشایی شده و در کادر پیام دیده می شود*

اکنون پیام مزبور را با موفقیت رمزگشایی نمودید. هر بار که شما و طرف ارتباطی شما با یکدیگر به مبادله پیام می پردازید، با تکرار مراحلی که شرح آن‌ها در بخش **۴.۵ چگونه می‌توان پیام‌های ایمیل را رمزنگاری و رمزگشایی نمود** به میان آمد می‌توانید بدون در نظر گرفتن اینکه آیا فردی ممکن است ارتباطات شما را تحت نظر داشته باشد، امنیت حریم شخصی خود را حفظ نموده و با اطمینان خاطر به مبادله اطلاعات بپردازید.

